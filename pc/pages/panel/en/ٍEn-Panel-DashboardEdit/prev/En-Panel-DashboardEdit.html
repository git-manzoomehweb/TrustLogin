<basis core="dbsource" source="trust_login8" mid="24" name="Paneluser" lid="1" rkey="[##cms.cookie.rkey##]">
    <member name="login" type="scalar" request="userid" />
</basis>

<basis core="group" name="0" if="[##Paneluser.login.userid##]=0">
    <p style="text-align:center;font-family:tahoma">You are not allowed to access this page</p>
</basis>

<basis core="group" name="1" if="[##Paneluser.login.userid##]<>0">
    <basis core="group" name="Delay_1">
        <!doctype html>
        <html>

        <head>
            <title>Editing information</title>
            <meta charset="utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
            <style type="text/css">
                <basis core="call"file="EN-Panel_User_css.inc"/>
            </style>
            <link rel="stylesheet" href="/css/Panel-master-css.css" type="text/css">
            <script type="text/javascript">
                <basis core = "call" file = "Client_Reservation_js.inc"/>
            </script>
            <script src="https://cdn.basiscore.net/basisfly.com/js/reservation_date_pickerUi.js" type="text/javascript"></script>
            <script src="https://cdn.basiscore.net/basisfly.com/js/reservation_date_picker.js" type="text/javascript"></script>
            <script src="https://cdn.basiscore.net/basisfly.com/js/reservation_main_date_picker.js" type="text/javascript"></script>

        </head>

        <body>
            <div class="Panel_Container">
                <basis core="call" file="EN-Panel-Menu.inc" />
                <div class="Panel_Wrraper_Box">
                    <basis core="call" file="EN-Panel-Dashboard-Header.inc" />
                    <basis core="call" file="EN-Panel-Icon.inc" />

                    <div class="Panel_Box">
                        <form action="/EN-Panel-DashboardSave.bc" method="post" class="Form-info">

                            <div class="Panel_Box_title">
                                <span>Real person information</span>
                                <button href="/EN-Panel-ChangePassword.bc" title="Editing information"
                                    class="Panel_Edit_icon save"></button>
                            </div>

                            <div class="Panel_Box_Content">

                                <div class="Panel_UserProfile">
                                    <div>
                                        <img src="[##cms.cms.cdn##]/_images/Panel-Profile.jpg" width="155" height="155"
                                            alt="Profile picture">
                                    </div>
                                </div>

                                <div class="Panel_UserInfo">
                                    <table>
                                        <basis core="print" datamembername="db.Userinformation">
                                            <layout>
                                                <tr>@Child</tr>
                                            </layout>
                                            <face filter="db.prp.prpID='1' and db.user.Answer='null'">
                                                <td>Name : <input type="text" value="" class="Firstname"
                                                        name="Firstname" required autocomplete="off">
                                                    <div class="ValidationAlert">The minimum number of characters is
                                                        2.</div>
                                                </td>
                                            </face>

                                            <face filter="db.prp.prpID='1'">
                                                <td>Name : <input type="text" class="Firstname" value="@db.user.Answer"
                                                        name="Firstname" required autocomplete="off">
                                                    <div class="ValidationAlert">The minimum number of characters is
                                                        2.</div>
                                                </td>
                                            </face>

                                            <face filter="db.prp.prpID='2' and db.user.Answer='null'">
                                                <td>Last name : <input type="text" value="" class="Lastname"
                                                        name="Lastname" required autocomplete="off">
                                                    <div class="ValidationAlert">The minimum number of characters is
                                                        2.</div>
                                                </td>
                                            </face>

                                            <face filter="db.prp.prpID='2'">
                                                <td>Last name : <input type="text" class="Lastname"
                                                        value="@db.user.Answer" name="Lastname" required
                                                        autocomplete="off">
                                                    <div class="ValidationAlert">The minimum number of characters is
                                                        2.</div>
                                                </td>
                                            </face>

                                            <face filter="db.prp.prpID='4' and db.user.Answer='null'">
                                                <td class="section_number"><span class="txt_input">Phone number :</span>
                                                    <input type="text" class="Tele" value="" name="Tell"
                                                        autocomplete="off">
                                                </td>
                                            </face>

                                            <face filter="db.prp.prpID='4'">
                                                <td class="section_number"><span class="txt_input">Phone number :</span>
                                                    <input type="text" class="Tele" value="@db.user.Answer" name="Tell"
                                                     autocomplete="off">
                                                </td>
                                            </face>
                                        </basis>

                                        <basis core="print" datamembername="db.Userinformation">
                                            <layout>
                                                <tr>@Child</tr>
                                            </layout>
                                            <face filter="db.prp.prpID='5' and db.user.Answer='null'">
                                                <td class="section_number"><span class="txt_input">Mobile number
                                                        :</span>
                                                    <input type="text" class="Mobil" value="" name="Mobile" required
                                                        autocomplete="off">
                                                  
                                                        <div class="ValidationAlert">
                                                            Please
                                                            enter
                                                            as
                                                            example<span>(9123334455)</span>
                                                        </div>

                                                </td>
                                            </face>

                                            <face filter="db.prp.prpID='5'">
                                                <td class="section_number"><span class="txt_input">Mobile number
                                                        :</span>
                                                    <input type="text" class="Mobil" value="@db.user.Answer"
                                                        name="Mobile" required autocomplete="off">
                                                 
                                                        <div class="ValidationAlert">
                                                            Please
                                                            enter
                                                            as
                                                            example<span>(9123334455)</span>
                                                        </div>

                                                </td>
                                            </face>

                                            <face filter="db.prp.prpID='7' and db.user.Answer='null'">
                                                <td>
                                                    Gender :
                                                    <select name="Gender" required style="margin-top: 7px;">
                                                        <option value="" selected>Please select</option>
                                                        <option value="666">Female</option>
                                                        <option value="668">Male</option>
                                                            </select>
                                                </td>
                                            </face>

                                            <face filter="db.prp.prpID='7' and db.user.Answer='0'">
                                                <td>
                                                    Gender :
                                                    <select name="Gender" required style="margin-top: 7px;">
                                                        <option value="" selected>Please select</option>
                                                        <option value="666">Female</option>
                                                        <option value="668">Male</option>
                                                            </select>
                                                </td>
                                            </face>

                                            <face filter="db.prp.prpID='7' and db.user.Answer='666'">
                                                <td>
                                                    Gender :
                                                    <select name="Gender" style="margin-top: 7px;">
                                                        <option value="666" selected>Female</option>
                                                        <option value="668">Male</option>
                                                            </select>
                                                </td>
                                            </face>

                                            <face filter="db.prp.prpID='7' and db.user.Answer='668'">
                                                <td>
                                                    Gender :
                                                    <select name="Gender" style="margin-top: 7px;">
                                                        <option value="666">Female</option>
                                                        <option value="668" selected>Male</option>
                                                            </select>
                                                </td>
                                            </face>

                                            <face filter="db.prp.prpID='8' and db.user.Answer='null'">
                                                <td>Birthdate: <input type="text" value="" class="datepicker"
                                                        name="Birthday" required autocomplete="off" readonly>
                                                </td>
                                            </face>

                                            <face filter="db.prp.prpID='8'">
                                                <td>Birthdate: <input type="text" class="datepicker"
                                                        value="@db.user.Answer" name="Birthday" required
                                                        autocomplete="off" readonly>
                                                </td>
                                            </face>
                                        </basis>

                                        <tr>
                                            <basis core="print" datamembername="db.Userinformation">
                                                <face filter="db.prp.prpID='9' and db.user.Answer='null'">
                                                    <td>Postal code : <input type="text" value="" name="Postalcode"
                                                            autocomplete="off">
                                                    </td>
                                                </face>

                                                <face filter="db.prp.prpID='9'">
                                                    <td>Postal code : <input type="text" value="@db.user.Answer"
                                                            name="Postalcode" autocomplete="off">
                                                    </td>
                                                </face>
                                            </basis>

                                            <basis core="print" datamembername="db.Userinformation">
                                                <face filter="db.prp.prpID='3'">
                                                    <td colspan="2">Email : <input type="text" class="check_value"
                                                            value="@db.user.Answer" name="email" required
                                                            autocomplete="off">
                                                        <div class="ValidationAlert">Please enter as
                                                            example<span>(test@gmail.com)</span> </div>
                                                    </td>
                                                </face>

                                            </basis>
                                        </tr>

                                        <basis core="print" datamembername="db.Userinformation">
                                            <layout>
                                                <tr>@Child</tr>
                                            </layout>
                                            <face filter="db.prp.prpID='6' and db.user.Answer='null'">
                                                <td colspan="3">Address : <input type="text" class="Address" value=""
                                                        name="Address" style="width:90%" autocomplete="off">
                                                </td>
                                            </face>

                                            <face filter="db.prp.prpID='6'">
                                                <td colspan="3">Address : <input type="text" class="Address"
                                                        value="@db.user.Answer" name="Address"
                                                        style="width:90%" autocomplete="off">
                                                </td>
                                            </face>
                                        </basis>
                                    </table>
                                </div>

                                <div class="clr"></div>
                            </div>
                            </form>
                    </div>

                    <basis core="call" file="EN-Panel-Dashboard-Footer.inc" />
                </div>

                <div class="clr"></div>
            </div>

            <script src="[##cms.cms.cdn##]/_js/User_Panel.js"></script>
            <script type="text/javascript">
                /*start new datepicker*/
                function getPassportExpiryDate() {
                    return new Date();
                }
                var regional = "",
                    isJalali = false;
                if (regional == "fa") {
                    isJalali = true;
                }
                $('.datepicker').focus(function (e) {
                    FDatepicker(this, {
                        single: true,
                        isJalali: isJalali,
                        changeMonth: true,
                        changeYear: true,
                        minDate: "-100y",
                        maxDate: $("#AdaultMaxDate").val(),
                        yearRangeJalali: "1250:1500",
                        yearRangeGregorian: "1900:2030",
                        numberOfMonths: 1,
                    });
                    var innerContent = $('.nice-select > ul');
                    var option_height = $('.nice-select .option').height();
                    var option_count = $('.nice-select .option').length;
                    var Ul_height = parseInt(option_height) * parseInt(option_count)
                    innerContent.scrollTop(Ul_height / 2);
                });

                PersianDate = {
                    g_days_in_month: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],
                    j_days_in_month: [31, 31, 31, 31, 31, 31, 30, 30, 30, 30, 30, 29]
                };
                PersianDate.PersianToGregorian = function (j_y, j_m, j_d) {
                    j_y = parseInt(j_y);
                    j_m = parseInt(j_m);
                    j_d = parseInt(j_d);
                    var jy = j_y - 979;
                    var jm = j_m - 1;
                    var jd = j_d - 1;

                    var j_day_no = 365 * jy + parseInt(jy / 33) * 8 + parseInt((jy % 33 + 3) / 4);
                    for (var i = 0; i < jm; ++i) j_day_no += PersianDate.j_days_in_month[i];
                    j_day_no += jd;
                    var g_day_no = j_day_no + 79;
                    var gy = 1600 + 400 * parseInt(g_day_no /
                        146097); /* 146097 = 365*400 + 400/4 - 400/100 + 400/400 */
                    g_day_no = g_day_no % 146097;
                    var leap = true;
                    if (g_day_no >= 36525) /* 36525 = 365*100 + 100/4 */ {
                        g_day_no--;
                        gy += 100 * parseInt(g_day_no / 36524); /* 36524 = 365*100 + 100/4 - 100/100 */
                        g_day_no = g_day_no % 36524;

                        if (g_day_no >= 365) g_day_no++;
                        else leap = false;
                    }

                    gy += 4 * parseInt(g_day_no / 1461); /* 1461 = 365*4 + 4/4 */
                    g_day_no %= 1461;
                    if (g_day_no >= 366) {
                        leap = false;
                        g_day_no--;
                        gy += parseInt(g_day_no / 365);
                        g_day_no = g_day_no % 365;
                    }
                    for (var i = 0; g_day_no >= PersianDate.g_days_in_month[i] + (i == 1 && leap); i++)
                        g_day_no -= PersianDate.g_days_in_month[i] + (i == 1 && leap);
                    var gm = i + 1;
                    var gd = g_day_no + 1;
                    gm = gm < 10 ? "0" + gm : gm;
                    gd = gd < 10 ? "0" + gd : gd;
                    return [gy, gm, gd];
                }
                /*end new datepicker*/
                /*-----------------------------------------*/
                $(".check_value").each(function () {
                    if ($(this).val() == '') {
                        $(this).addClass('email')
                        $(this).attr('readonly', false)
                    } else {
                        $(this).removeClass('email')
                        $(this).attr('readonly', true)
                    }
                })
                $(".Form-info").submit(function (e) {

                    var isValid = true;
                    $(this).find(".Firstname").filter(function () {
                        if ($(this).val() == "" || $(this).val().length < 2 || $(this).val()[0] ===
                            " ") {
                            $(this).closest("td").find(".ValidationAlert").show()
                            isValid = false;
                            e.preventDefault(e)
                        } else {
                            $(this).closest("td").find(".ValidationAlert").hide()
                        }
                    });
                    $(this).find(".Lastname").filter(function () {
                        if ($(this).val() == "" || $(this).val().length < 2 || $(this).val()[0] ===
                            " ") {
                            $(this).closest("td").find(".ValidationAlert").show()
                            isValid = false;
                            e.preventDefault(e)
                        } else {
                            $(this).closest("td").find(".ValidationAlert").hide()
                        }
                    });

                    $(this).find(".Mobil").filter(function () {
                        // if ($(this).closest("td").find(".Country-CodeSelect").val() == '+98') {
                        //     $(this).val($(this).val().replace(/^(0*)/, ""))
                        //     var mob = $(this).val();
                        //     var mobReg = /^9([0123645789]{9})$/;
                        //     if (!mobReg.test(mob)) {
                        //         $(this).closest("td").find(".ValidationAlert").show()
                        //         isValid = false;
                        //         e.preventDefault(e)
                        //     } else {
                        //         $(this).closest("td").find(".ValidationAlert").hide()
                        //     }
                        // } else {
                        //     $(this).closest("td").find(".ValidationAlert").hide()
                        // }

                    });

                    $(this).find(".datepicker").each(function () {
                        var myDate = $(this).val()
                        var dateSplitted = myDate.split('-')
                        var dateSplitted1 = dateSplitted[0]
                        if (dateSplitted1.indexOf('13') > -1) {
                            jD = PersianDate.PersianToGregorian(dateSplitted[0], dateSplitted[1],
                                dateSplitted[
                                    2]);
                            jResult = jD[0] + "-" + jD[1] + "-" + jD[2];
                            $(this).val(jResult)
                        } else if (dateSplitted1.indexOf('14') > -1) {
                            jD = PersianDate.PersianToGregorian(dateSplitted[0], dateSplitted[1],
                                dateSplitted[
                                    2]);
                            jResult = jD[0] + "-" + jD[1] + "-" + jD[2];
                            $(this).val(jResult)
                        } else if (dateSplitted1.indexOf('12') > -1) {
                            jD = PersianDate.PersianToGregorian(dateSplitted[0], dateSplitted[1],
                                dateSplitted[
                                    2]);
                            jResult = jD[0] + "-" + jD[1] + "-" + jD[2];
                            $(this).val(jResult)
                        }
                    })

                    $(this).find(".email").filter(function () {
                        var emil = $(this).val();
                        var emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;
                        if (!emailReg.test(emil)) {
                            $(this).closest("td").find(".ValidationAlert").show()
                            isValid = false;
                            e.preventDefault(e)
                        } else {
                            $(this).closest("td").find(".ValidationAlert").hide()
                        }


                    });
                    if (isValid) {

                    }
                });

                // if([##cms.cms.domainid##] == 4737){
                //     $(".Country-CodeSelect").each(function(){
                //         $(this).find(".Georgia").attr('selected', 'selected')

                //     })
                // }
                // if([##cms.cms.domainid##] == 4592){
                //     $(".Country-CodeSelect").each(function(){
                //         $(this).find(".Armenia").attr('selected', 'selected')

                //     })
                // }
                /*-----------------------------------------*/
            </script>

            <style type="text/css">
                @font-face {
                    font-family: 'IRANSansWeb';
                    src: url('http://cdn.basiscore.net/_fonts/IRANSansWeb.eot');
                    src: local('?'), url('http://cdn.basiscore.net/_fonts/IRANSansWeb.woff2') format("woff"), url('http://cdn.basiscore.net/_fonts/IRANSansWeb.ttf') format("truetype"), url('http://cdn.basiscore.net/_fonts/IRANSansWeb.otf') format("otf");
                    font-weight: 400;
                    font-style: normal
                }

                @font-face {
                    font-family: 'FontAwesome';
                    src: local('FontAwesome'), url('http://cdn.basiscore.net/_fonts/fontawesome-webfont.eot?#iefix');
                    src: local('?'), url('http://cdn.basiscore.net/_fonts/fontawesome-webfont.woff') format("woff"), url('http://cdn.basiscore.net/_fonts/fontawesome-webfont.ttf') format("truetype"), url('http://cdn.basiscore.net/_fonts/fontawesome-webfont.otf') format("otf");
                    font-weight: 400;
                    font-style: normal
                }

                @font-face {
                    font-family: 'IRANSansWeb';
                    src: url('https://cdn.basiscore.net/_fonts/IRANSansWeb.eot');
                    src: local('?'), url('https://cdn.basiscore.net/_fonts/IRANSansWeb.woff2') format("woff"), url('https://cdn.basiscore.net/_fonts/IRANSansWeb.ttf') format("truetype"), url('https://cdn.basiscore.net/_fonts/IRANSansWeb.otf') format("otf");
                    font-weight: 400;
                    font-style: normal
                }

                @font-face {
                    font-family: 'FontAwesome';
                    src: local('FontAwesome'), url('https://cdn.basiscore.net/_fonts/fontawesome-webfont.eot?#iefix');
                    src: local('?'), url('https://cdn.basiscore.net/_fonts/fontawesome-webfont.woff') format("woff"), url('https://cdn.basiscore.net/_fonts/fontawesome-webfont.ttf') format("truetype"), url('https://cdn.basiscore.net/_fonts/fontawesome-webfont.otf') format("otf");
                    font-weight: 400;
                    font-style: normal
                }

                .Panel_UserInfo input,
                .Panel_UserInfo select {
                    display: inline-block;
                    width: 60%;
                    border: 0;
                    background: none;
                    color: #24a524;
                    font-family: IRANSansWeb;
                }

                .Panel_Edit_icon.save:before {
                    content: "\f0c7"
                }

                .Panel_Edit_icon {
                    width: 25px;
                    height: 25px;
                    line-height: 29px;
                    border-radius: 50%;
                    float: left;
                    text-align: center;
                    margin: 0 1px !important;
                    font-family: FontAwesome;
                    font-size: 25px;
                    color: #bfbfbf;
                    position: relative;
                    top: -2px;
                    border: 0;
                    background: none;
                    box-sizing: border-box;
                    -moz-box-sizing: border-box;
                    -webkit-box-sizing: border-box;
                    cursor: pointer;
                }
            </style>
        </body>

        </html>
    </basis>
</basis>